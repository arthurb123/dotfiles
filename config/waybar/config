[{
    "layer": "top",
    "position": "bottom",
    "height": 28,
    "margin": "0 12 16 12",

    "modules-left": ["custom/menu", "hyprland/workspaces"],
    "modules-center": [],
    "modules-right": ["network", "pulseaudio", "backlight", "language", "custom/keyboard", "clock", "custom/power"],

    "custom/menu": {
        "format": "",
        "tooltip-format": "SUPER+D: Launch menu",
        "on-click": "$HOME/.config/hypr/scripts/wofi-menu"
    },

    "custom/power": {
        "format": "",
        "tooltip-format": "SUPER+Escape: Power menu",
        "on-click": "$HOME/.config/hypr/scripts/wofi-power"
    },

    "clock": {
        // "timezone": "America/New_York",
        "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
        "format": "{:%a, %d %b, %I:%M %p} "
    },

    "custom/weather": {
        "format": "{}",
        "tooltip": true,
        "interval": 1800,
        "exec": "$HOME/.config/waybar/scripts/wttr.py",
        "return-type": "json"
    },

    "custom/keyboard": {
        "exec": "~/.config/waybar/scripts/keyboard.sh",
        "interval": 1,
        "format": "{}"
    },
    
    "hyprland/workspaces": {
        "format": "<b>{icon}</b>  {windows}",
        "window-rewrite-default": " ",
        "window-rewrite": {
            "class<Google-chrome>": " ",
            "class<Code>": " ",
            "class<kitty>": " ",
            "class<Spotify>": " ",
            "class<discord>": " ",
            "title<ranger>": " ",
            "class<org.gnome.Nautilus>": " ",
            "class<com.obsproject.Studio>": " ",
            "class<thunderbird>": " ",
            "class<unityhub>": " ",
            "class<Unity>": " ",
            "class<Microsoft Teams - Preview>": " 󰊻",
            "class<Rofi>": " ",
            "class<jetbrains-idea>": " ",
            "class<Slack>": " ",
            "class<neovide>": " "
        },
        "on-click": "activate"
        // "format-icons": {
        //     "1": "一",
        //     "2": "二",
        //     "3": "三",
        //     "4": "四",
        //     "5": "五",
        //     "6": "六",
        //     "7": "七",
        //     "8": "八",
        //     "9": "九",
        //     "10": "〇",
        //     "default": "一",
        //     "active": "●"
        // }
    },

    "tray": {
        "icon-size": 13,
        "spacing": 10
    },

    "pulseaudio": {
        // "scroll-step": 1, // %, can be a float
        "reverse-scrolling": 1,
        "format": "{volume}% {icon}   {format_source}",
        "format-bluetooth": "{volume}% {icon} {format_source}",
        "format-bluetooth-muted": " {icon} {format_source}",
        "format-muted": "0% 婢",
        "format-source": "{volume}% ",
        "format-source-muted": "0% ",
        "format-icons": {
            "headphone": "",
            "hands-free": "",
            "headset": "",
            "phone": "",
            "portable": "",
            "car": "",
            "default": ["奄", "奔", "墳"]
        },
        "on-click": "pavucontrol",
        "min-length": 13,
    },

    "backlight": {
        "device": "amdgpu_backlight",
        "format": "{percent}% {icon}",
        "format-icons": ["","","","", "", "", ""],
        "min-length": 7,
    },

    "network": {
        "interface": "wlp4s0",
	    "interval": 1,
        "format": "{ifname}",
        "format-wifi": "{essid} ( {bandwidthDownBytes}  {bandwidthUpBytes})  ",
        "format-ethernet": "Ethernet ( {bandwidthDownBytes}  {bandwidthUpBytes})  ",
        "format-disconnected": "Disconnected 睊", //An empty format will hide the module.
        "tooltip-format": "{ifname} via {gwaddr} ",
        "tooltip-format-wifi": "{essid} via wlan0 ({signalStrength}%)",
        "tooltip-format-ethernet": "{essid} via wlan0 ({signalStrength}%)",
        "tooltip-format-disconnected": "Disconnected",
        "max-length": 50,
        "on-click": "nm-connection-editor"
    }
},

{
    "layer": "top", // Waybar at top layer
    "position": "top", // Waybar position (top|bottom|left|right)
    "height": 28, // Waybar height (to be removed for auto height)
    "margin": "16 12 0 12",
    // "width": 1280, // Waybar width
    // Choose the order of the modules
    "modules-left": ["hyprland/window"], //["sway/workspaces", "sway/language", "keyboard-state", "custom/pacman", "custom/mail", "sway/mode"],
    "modules-center": ["custom/spotify"],
    "modules-right": ["disk", "custom/mem", "cpu", "temperature", "battery"],


    //***************************
    //*  Modules configuration  *
    //***************************

    "battery": {
        "states": {
            "warning": 30,
            "critical": 15
        },
        "format": "{capacity}% {icon}",
        "format-charging": "{capacity}% ",
        "format-plugged": "{capacity}% ",
        "format-alt": "{time} {icon}",
        "format-icons": ["", "", "", "", ""],
	    "on-update": "$HOME/.config/waybar/scripts/check_battery.sh",
    },

    "disk": {
        "interval": 30,
        "format": "{free} ",
        "path": "/"
    },

    "hyprland/window": {
        "format": "   {}",
        "max-length": 64
    },

    "custom/spotify": {
       "exec": "/usr/bin/python3 $HOME/.config/waybar/custom/mediaplayer.py --player spotify",
       "format": "  {}",
       "return-type": "json",
       "on-click": "playerctl play-pause",
       "on-scroll-up": "playerctl next",
       "on-scroll-down": "playerctl previous"
    },

    "keyboard-state": {
        //"numlock": true,
        "capslock": true,
        "format": "{name} {icon} ",
        "format-icons": {
            "locked": " ",
            "unlocked": ""
        }
    },

    "custom/pacman": {
        "format": "{} ",
        "interval": 3600,                     			// every hour
        "exec": "(checkupdates;pacman -Qm | aur vercmp) | wc -l",	// # of updates
        "exec-if": "exit 0",                  			// always run; consider advanced run conditions
        "on-click": "foot sh -c 'yay; echo Done - Press enter to exit; read'; pkill -SIGRTMIN+8 waybar", // update system
        "signal": 8,
        "tooltip": false,
    },

    "custom/mail": {
        "format": "{} ",
        "exec": "$HOME/.config/waybar/scripts/checkgmail.py",
        "interval": 120,
        "on-click": "google-chrome-stable https://mail.google.com/mail/u/0/#inbox ; pkill -SIGRTMIN+9 waybar",
        "signal": 9,
        "tooltip": false,
    },

    "custom/mem": {
        "format": "{} ",
        "interval": 3,
        "exec": "free -h | awk '/Mem:/{printf $3}'",
        "tooltip": false,
    },

    "temperature": {
        "thermal-zone": 2,
        "hwmon-path": "/sys/class/hwmon/hwmon3/temp1_input",
        "critical-threshold": 80,
        // "format-critical": "{temperatureC}°C {icon}",
        "format": "{temperatureC}°C {icon}",
        "format-icons": ["", "", "", "", ""],
        "tooltip": false,
    },

    "tray": {
        "icon-size": 16,
        "spacing": 0
    },

    "cpu": {
        "interval": 1,
        "format": "{usage}% ",
        "max-length": 10
    },
}]
